import{j as s,v as e}from"./index-VvjsA-rq.js";import{r as a}from"./chunk.BQy9AZNB.js";import{C as n,A as t}from"./chunk.Bzdb9GAy.js";import"./chunk.DEQ385Nk.js";import"./chunk.BhLMWRjL.js";import"./chunk.DXnYxceR.js";import"./web-vitals.DbSUPk88.js";const c=()=>{const[e,n]=a.useState(!1),[t,c]=a.useState("stopped"),[l,i]=a.useState(0),[r,d]=a.useState([]),[o,h]=a.useState(null),[m,u]=a.useState({totalOrders:0,processedOrders:0,failedOrders:0,lastRunTime:null});a.useEffect(()=>{const s=[{id:"1",timestamp:(new Date).toISOString(),level:"info",message:"System initialized successfully",details:"Chrome driver ready, Google Sheets connected"},{id:"2",timestamp:new Date(Date.now()-6e4).toISOString(),level:"success",message:"Processed 15 orders from Shopee",details:"All orders processed within SLA"},{id:"3",timestamp:new Date(Date.now()-12e4).toISOString(),level:"warning",message:"SLA warning for order SO240001",details:"Order approaching deadline"},{id:"4",timestamp:new Date(Date.now()-18e4).toISOString(),level:"error",message:"Failed to process order SO240002",details:"Element not found: confirm button"}];d(s),u({totalOrders:150,processedOrders:135,failedOrders:3,lastRunTime:new Date(Date.now()-3e5).toISOString()})},[]);const j=()=>{switch(t){case"running":return"#52c41a";case"paused":return"#fa8c16";default:return"#f5222d"}},x=s=>{switch(s){case"info":return"#1890ff";case"success":return"#52c41a";case"warning":return"#fa8c16";case"error":return"#f5222d";default:return"#666"}},g=s=>new Date(s).toLocaleString("vi-VN");return s.jsxs("div",{className:"simple-automation-panel",children:[s.jsxs("div",{className:"panel-header",children:[s.jsx("h1",{children:"🤖 Automation Control Panel"}),s.jsx("p",{children:"Điều khiển và giám sát hệ thống automation"})]}),o&&s.jsxs("div",{className:"alert alert-"+(o.success?"success":"error"),children:[s.jsxs("div",{className:"alert-content",children:[s.jsx("h3",{children:"✅ Automation Response"}),s.jsxs("p",{children:[s.jsx("strong",{children:"Status:"})," ",o.status]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Mode:"})," ",o.mode]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Message:"})," ",o.message]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Success:"})," ",o.success?"Yes":"No"]})]}),s.jsx("button",{className:"close-btn",onClick:()=>h(null),children:"✕"})]}),s.jsxs("div",{className:"stats-grid",children:[s.jsxs("div",{className:"stat-card",children:[s.jsx("div",{className:"stat-icon",children:"📊"}),s.jsxs("div",{className:"stat-content",children:[s.jsx("h3",{children:"Tổng đơn hàng"}),s.jsx("p",{className:"stat-value",children:m.totalOrders})]})]}),s.jsxs("div",{className:"stat-card",children:[s.jsx("div",{className:"stat-icon",children:"✅"}),s.jsxs("div",{className:"stat-content",children:[s.jsx("h3",{children:"Đã xử lý"}),s.jsx("p",{className:"stat-value success",children:m.processedOrders})]})]}),s.jsxs("div",{className:"stat-card",children:[s.jsx("div",{className:"stat-icon",children:"❌"}),s.jsxs("div",{className:"stat-content",children:[s.jsx("h3",{children:"Thất bại"}),s.jsx("p",{className:"stat-value error",children:m.failedOrders})]})]}),s.jsxs("div",{className:"stat-card",children:[s.jsx("div",{className:"stat-icon",children:"📈"}),s.jsxs("div",{className:"stat-content",children:[s.jsx("h3",{children:"Tỷ lệ thành công"}),s.jsxs("p",{className:"stat-value success",children:[m.totalOrders>0?(m.processedOrders/m.totalOrders*100).toFixed(1):0,"%"]})]})]})]}),s.jsxs("div",{className:"control-section",children:[s.jsxs("div",{className:"control-panel",children:[s.jsxs("div",{className:"panel-title",children:[s.jsx("h2",{children:"🎮 Điều khiển Automation"}),s.jsx("span",{className:"status-indicator",style:{color:j()},children:(()=>{switch(t){case"running":return"▶️";case"paused":return"⏸️";default:return"⏹️"}})()})]}),s.jsxs("div",{className:"control-info",children:[s.jsxs("div",{className:"info-item",children:[s.jsx("label",{children:"Trạng thái:"}),s.jsx("span",{className:"status-badge",style:{backgroundColor:j()},children:"running"===t?"Đang chạy":"paused"===t?"Tạm dừng":"Đã dừng"})]}),s.jsxs("div",{className:"info-item",children:[s.jsx("label",{children:"Tiến độ:"}),s.jsxs("div",{className:"progress-bar",children:[s.jsx("div",{className:"progress-fill",style:{width:`${l}%`}}),s.jsxs("span",{className:"progress-text",children:[l,"%"]})]})]}),s.jsxs("div",{className:"info-item",children:[s.jsx("label",{children:"Lần chạy cuối:"}),s.jsx("span",{children:m.lastRunTime?g(m.lastRunTime):"Chưa chạy"})]})]}),s.jsxs("div",{className:"control-buttons",children:[s.jsxs("button",{className:"btn btn-primary",onClick:async()=>{try{n(!0),c("running"),i(0),await new Promise(s=>setTimeout(s,1e3)),h({status:"success",mode:"automated",message:"Automation started successfully!",success:!0});const s=setInterval(()=>{i(e=>{const a=e+10;return a>=100?(clearInterval(s),c("stopped"),u(s=>({...s,processedOrders:s.processedOrders+15,lastRunTime:(new Date).toISOString()})),100):a})},1500)}catch(s){c("stopped")}finally{n(!1)}},disabled:e||"running"===t,children:[e?"⏳":"▶️"," Bắt đầu"]}),s.jsx("button",{className:"btn btn-secondary",onClick:()=>{c("stopped"),i(0)},disabled:"stopped"===t,children:"⏹️ Dừng"}),s.jsx("button",{className:"btn btn-warning",onClick:"paused"===t?()=>{c("running")}:()=>{c("paused")},disabled:"stopped"===t,children:"paused"===t?"▶️ Tiếp tục":"⏸️ Tạm dừng"}),s.jsx("button",{className:"btn btn-info",children:"🔄 Restart"}),s.jsx("button",{className:"btn btn-outline",children:"⚙️ Cài đặt"})]})]}),s.jsxs("div",{className:"system-status",children:[s.jsx("h2",{children:"📊 Thống kê thời gian thực"}),s.jsxs("div",{className:"status-alert success",children:[s.jsx("h3",{children:"✅ Hệ thống đang hoạt động bình thường"}),s.jsx("p",{children:"Tất cả các dịch vụ đang kết nối và hoạt động ổn định."})]}),s.jsxs("div",{className:"service-status",children:[s.jsxs("div",{className:"service-item",children:[s.jsx("span",{className:"service-name",children:"Chrome Driver:"}),s.jsx("span",{className:"status-dot connected",children:"🟢 Kết nối"})]}),s.jsxs("div",{className:"service-item",children:[s.jsx("span",{className:"service-name",children:"Google Sheets:"}),s.jsx("span",{className:"status-dot connected",children:"🟢 Kết nối"})]}),s.jsxs("div",{className:"service-item",children:[s.jsx("span",{className:"service-name",children:"ONE System:"}),s.jsx("span",{className:"status-dot connected",children:"🟢 Kết nối"})]}),s.jsxs("div",{className:"service-item",children:[s.jsx("span",{className:"service-name",children:"Lần cập nhật cuối:"}),s.jsx("span",{children:(new Date).toLocaleTimeString("vi-VN")})]})]})]})]}),s.jsxs("div",{className:"logs-section",children:[s.jsx("h2",{children:"📋 Nhật ký Automation"}),s.jsxs("div",{className:"logs-table",children:[s.jsxs("div",{className:"logs-header",children:[s.jsx("div",{className:"log-col time",children:"Thời gian"}),s.jsx("div",{className:"log-col level",children:"Mức độ"}),s.jsx("div",{className:"log-col message",children:"Thông báo"}),s.jsx("div",{className:"log-col details",children:"Chi tiết"})]}),s.jsx("div",{className:"logs-body",children:r.map(e=>s.jsxs("div",{className:"log-row",children:[s.jsx("div",{className:"log-col time",children:g(e.timestamp)}),s.jsx("div",{className:"log-col level",children:s.jsx("span",{className:"log-level-badge",style:{backgroundColor:x(e.level)},children:e.level.toUpperCase()})}),s.jsx("div",{className:"log-col message",children:e.message}),s.jsx("div",{className:"log-col details",children:e.details})]},e.id))})]})]}),s.jsxs("div",{className:"quick-actions",children:[s.jsx("h2",{children:"⚡ Hành động nhanh"}),s.jsxs("div",{className:"action-buttons",children:[s.jsx("button",{className:"btn btn-outline",children:"✅ Kiểm tra hệ thống"}),s.jsx("button",{className:"btn btn-outline",children:"🔄 Sync Google Sheets"}),s.jsx("button",{className:"btn btn-outline",children:"⚠️ Kiểm tra SLA"}),s.jsx("button",{className:"btn btn-outline",children:"⚙️ Cấu hình nâng cao"})]})]})]})},l=()=>s.jsx(n,{locale:e,theme:{token:{colorPrimary:"#3b82f6",borderRadius:8}},children:s.jsx(t,{children:s.jsx(c,{})})});export{l as default};
